!function(a){a.fn.passStrengthify=function(b){var d,c=a(this),e=[[0,8,16,32,48,64,72],[0,16,32,48,64,78,92],[0,32,64,78,92,108,128]],f=["Very weak","Very weak","Weak","Weak","Moderate","Good","Strong","Very strong"],g=["gray","red","red","#C00000","orange","#0099FF","blue","green"],h=e[0],i=a("<span>").css("margin-left","1em"),j=[],k=0,l=0,m=!1,n=function(a){var b=0,c={"[a-z]":26,"[A-Z]":26,"(\\d[^\\d])|(^\\d+$)":10,"[\\W_]":32};if(a=a.replace(/(.)(\1)(\1)+/gi,"$1$2"),a=a.replace(/(a)(b(c(d(e(f(g(h(i(j(k(l(m(n(o(p(q(r(u(v(w(x(y(z)?)?)?)?)?)?)?)?)?)?)?)?)?)?)?)?)?)?)?)?)?)?)?/gi,"$1"),a=a.replace(/(0)(1(2(3(4(5(6(7(8(9)?)?)?)?)?)?)?)?)?/g,"$1"),a=a.replace(/(1)(2(3(4(5(6(7(8(9(0)?)?)?)?)?)?)?)?)?/g,"$1"),a=a.replace(/([^\d])(\d)(\d)+$/,"$1$2"),!a.length)return 0;for(var d in c)-1!=a.search(RegExp(d))&&(b+=c[d]);if(!b)return 0;for(d=c=0;d<a.length;d++){var e,f=a,g=d;e=b;var h=f.charAt(g),i=[.08064249900208098,.015373768624831691,.026892340312538593,.04328667139002636,.1288623426065769,.0244847137116921,.019625534749730816,.06098726796371807,.06905550211598431,.0011176940633901926,.006252182367878119,.04101676132771116,.02500971934780021,.06984975410235668,.07378315126621263,.017031440203182008,.0010648594165322703,.06156572691936394,.063817324270356,.09024664994930598,.0278568510204016,.010257964235274787,.021192261444145363,.0016941732664605912,.01806326249861108,.0009695838238376564],j=[.11617102232902775,.04708120556723741,.035155702413137084,.02673475518173626,.020026033843997197,.0378391909482327,.01952538299789727,.07241413837989387,.06294182437168319,.006318213677781116,.006908981676179033,.027085210774006212,.04379693601682187,.02368078502052669,.06272153799939922,.025483128066486435,.0004305597276459397,.016551516972063685,.07765094623009913,.16692700510663863,.014889356163011918,.006198057474717133,.06669670571743266,50065084609993e-18,.01622108741363773,.00050065084609993],k=[2835e-7,.0228302,.0369041,.042629,.0012216,.0075739,.0171385,.0014659,.0372661,2353e-7,.0110124,.0778259,.0260757,.2145354,5459e-7,.0195213,1749e-7,.110477,.093429,.131796,.0098029,.0306574,.0088799,9562e-7,.0233701,.0018701,.0580027,.0058699,791e-7,.0022625,.3416714,2057e-7,4272e-7,3639e-7,.0479084,.0076894,0,.115056,.0012816,3481e-7,.0966553,158e-7,0,.0740301,.0226884,.010743,.1196127,.001155,316e-7,0,.0864502,0,.1229841,271e-7,.0215451,5246e-7,.1715916,9e-6,0,.1701716,.056549,0,.0453966,.0488879,0,362e-7,.1759242,9e-6,.0017185,.0376812,.0010492,.0906756,.0358361,0,0,0,.0041969,9e-6,.0280345,5057e-7,2585e-7,.0081086,.1224833,6799e-7,.0054844,708e-6,.0794902,3484e-7,1911e-7,.0092662,.0021466,.0030456,.0397283,163e-6,225e-7,.0178918,.0307037,9159e-7,.0178805,.0027759,.0013655,0,.0076478,0,.0545873,.0012798,.0224322,.0843434,.0317097,.008564,.0052834,.0017762,.0127186,2605e-7,.0010967,.0339975,.0186268,.0815271,.0032334,.0101307,.0021424,.1307517,.0712793,.0241537,.0014289,.0157312,.0070879,.0105139,.0125997,1831e-7,.0638579,2384e-7,3179e-7,2086e-7,.0928264,.0500293,199e-7,993e-7,.0820576,0,199e-7,.0266638,397e-7,894e-7,.1545186,1689e-7,99e-7,.0825344,.0039539,.034194,.0334986,99e-7,1987e-7,0,.00152,0,.0592435,3842e-7,5205e-7,.0020078,.1482326,2727e-7,.0101631,.1420108,.0501091,248e-7,372e-7,.0395122,.002987,.0127906,.0573224,5577e-7,0,.0884686,.0261142,.0062466,.0256309,372e-7,347e-6,0,.003272,1363e-7,.1580232,7737e-7,.002046,5185e-7,.4597035,4627e-7,359e-7,718e-7,.1252667,0,4e-6,.0014278,.0013042,.0012922,.0700557,439e-7,3191e-7,.0117178,.0022056,.0297253,.0131497,0,.001029,0,.0072309,0,.0166996,.0069144,.0486793,.0363474,.0480664,.0271435,.0307856,775e-7,4826e-7,35e-7,.0073125,.0526842,.0412929,.2618995,.0497818,.0062698,4333e-7,.043762,.1157982,.1198384,701e-6,.0235788,211e-7,.001881,0,.0032265,.2106638,0,0,0,.190642,0,0,0,4353e-7,0,0,0,0,0,.2644178,0,0,0,0,0,.3299238,0,0,0,2176e-7,0,.0169234,.0011671,5058e-7,.0017118,.3321662,.0041628,4669e-7,7781e-7,.1300965,0,3112e-7,.0185963,9726e-7,.100957,.0113601,.001206,0,4279e-7,.0613523,.0022954,.0029956,0,.0041239,0,.0086757,0,.10168,5515e-7,.0020459,.0668636,.1657445,.0134024,.0011801,1542e-7,.1107889,119e-7,.0053728,.135518,.0055389,9726e-7,.0826499,.0022654,59e-7,.0018443,.0230153,.0180635,.0144461,.004163,.0025797,0,.0968765,237e-7,.1539307,.0285939,1653e-7,.0025384,.2496134,.0017798,195e-7,3015e-7,.0877464,195e-7,0,.0015756,.0221846,.0029567,.1098532,.0485124,0,.016991,.0249954,8461e-7,.0385435,292e-7,1167e-7,0,.0505257,0,.0240107,5432e-7,.0423173,.1767352,.0849166,.0053036,.1188694,.0028799,.0295789,.0012223,.0071353,.0087755,6582e-7,.0085073,.0653564,3343e-7,9716e-7,4144e-7,.0427003,.0956004,.0093814,.00335,8497e-7,3343e-7,.012115,1288e-7,.0083175,.0072923,.0127087,.0203076,.0029439,.1135873,.0060659,.0018527,.0087857,1978e-7,.0106912,.0268647,.0580447,.1459838,.0330625,.0138659,2308e-7,.1175433,.032268,.0492657,.1337201,.0164801,.0488371,5374e-7,.0033923,8571e-7,.1284508,4427e-7,4427e-7,4713e-7,.2213542,1428e-7,857e-7,.0221226,.0538854,286e-7,1143e-7,.0957597,.0010854,5856e-7,.1212242,.0607692,0,.1362487,.0222939,.0408603,.0270926,0,.0011711,0,.0042274,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2284e-7,2284e-7,0,.9949749,0,0,0,0,0,.0733524,.0032081,.0116789,.028407,.234553,.0056616,.0107385,.0026432,.0792432,435e-7,.0087196,.0117263,.0192448,.0221961,.0919374,.0048043,316e-7,.0189406,.0459213,.0421561,.0173721,.0070603,.0019873,4e-6,.0284504,.0055945,.0349781,6441e-7,.0157796,.0015208,.1179849,.0010558,4688e-7,.0569819,.0506053,495e-7,.005378,.0114497,.006552,.0022488,.0491264,.0287844,8309e-7,1906e-7,.0463897,.1269191,.0330152,8e-5,.0053856,0,.0020925,0,.0393295,159e-6,.0037195,674e-7,.0892434,9218e-7,404e-7,.3352928,.0666758,54e-7,162e-7,.0146273,911e-6,.0011051,.0913053,809e-7,27e-7,.0310281,.0245378,.0171177,.0185732,27e-7,.0078702,0,.0121422,2776e-7,.0261517,.0181796,.0459729,.0223272,.0308931,.0058765,.0505571,699e-7,.0298191,87e-7,1572e-7,.1066327,.0308669,.1156002,.002017,.0448465,1746e-7,.1626908,.1207345,.1249869,349e-7,9343e-7,2008e-7,8819e-7,2969e-7,.0010042,.1022242,0,0,.0049559,.6796927,0,0,2371e-7,.1467561,0,0,1423e-7,0,.0128284,.0429195,0,0,8299e-7,3083e-7,0,.0025847,5928e-7,0,0,.0038888,0,.1832539,3329e-7,2984e-7,.0018938,.1605624,.0013085,344e-7,.1893372,.1788924,0,505e-6,.0089412,2755e-7,.0372798,.0933831,803e-7,115e-7,.0082066,.0126485,.0018135,.0011707,0,3214e-7,0,6887e-7,0,.0600144,0,.1573582,.001005,.05542,0,1436e-7,.0132089,.1122757,0,0,.0014358,1436e-7,0,.0055994,.2157933,.0031587,0,.0027279,.2360373,.0195262,.0051687,1436e-7,.0093324,.0020101,0,.0072178,.0039321,.0011985,.0020738,.0562745,.0015217,3097e-7,7137e-7,.0141393,135e-7,269e-7,.0031914,.0039051,.0022488,.1205478,.0027875,0,.0048882,.0324935,.0109613,5925e-7,673e-7,.0016025,1347e-7,943e-7,202e-6,.4219769,7526e-7,.0060211,.0067737,.3038133,0,0,5018e-7,.0709985,2509e-7,0,.0198194,0,0,.0730055,0,0,2509e-7,.0017561,5018e-7,.0037632,.0010035,0,0,.0100351,.026844],l={1:"l",3:"e",4:"a",5:"s",7:"t","@":"a",$:"s"};if("undefined"!=typeof l[h]&&(h=l[h]),h.match(/^[a-zA-Z]$/)){h=h.toLowerCase().charCodeAt(0)-"a".charCodeAt(0);var m=void 0;m=null,g&&(m=f.charAt(g-1),"undefined"!=typeof l[m]&&(m=l[m])),null!=m&&m.match(/^[a-zA-Z]$/)?(f=void 0,f=m.toLowerCase().charCodeAt(0)-"a".charCodeAt(0),m=k[h+26*f]):m=(g?i:j)[h],e>=26&&(m*=26/e),e=m}else e=1/e;c+=Math.max(-7,Math.log(e)/.6931471805599453)}return-1*c},o=function(a){var b=0,c=0;if(c=n(a),h.length&&h[0]instanceof RegExp)jQuery.each(h,function(c,d){b+=-1!=a.search(d)});else for(k=0;k<h.length&&!(c<h[k]);k++)b=k+1;return[c,b]},p=function(){var e,c=a(this).val(),d=!c.length||c.length<l;c=o(c),e=c[0],c=d?0:c[1];var n,p,h=j.length;for(p=d?b.labels.tooShort:m?Math.round(100*e)/100+" bits":f[c],n=g[c],d=g[c],e=g[0],i.text(p).css("color",n),k=0;h>k;k++)j[k].css("background-color",c>k?d:e)};return"undefined"==typeof b&&(b={}),"undefined"==typeof b.labels&&(b.labels={}),b.labels=a.extend({tooShort:"Too short",passwordStrength:"Password strength:"},b.labels),d=a("<span>").css("display","inline-block").addClass("passStrengthify"),a(this).each(function(){b.element?b.element.append(d):a(this).parent().append(d),b.minimum&&(l=b.minimum),"undefined"==typeof b.security&&(b.security=1),b.security>=0&&b.security<e.length&&(h=e[b.security]),b.levels||(b.levels=f),b.colours||(b.colours=g),b.tests||(b.tests=h),b.levels&&b.colours&&b.tests&&b.levels.length==b.colours.length&&b.colours.length==b.tests.length+1&&(f=b.levels,g=b.colours,h=b.tests),b.rawEntropy&&(m=!0),d.append(a("<div>").append(a("<span>").css("font-size","smaller").text(b.labels.passwordStrength).append(i)));var n=Math.round((125-3*h.length)/h.length);for(k=0;k<h.length;k++){var o=a("<span>").css("height","3px").css("width",n+"px").css("margin-right","3px").css("max-height","3px").css("font-size","1px").css("float","left");j.push(o),d.append(o)}c.keypress(p),c.keyup(p),c.trigger("keyup")})}}(jQuery);